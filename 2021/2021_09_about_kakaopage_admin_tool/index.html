<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><style data-href="/styles.65cfb57152e1d30f7a6b.css" id="gatsby-global-css">body{color:#666;text-shadow:0 0 .1px rgba(48,48,48,.3);-webkit-text-size-adjust:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;text-rendering:optimizelegibility}h1{font-size:1.7rem}h1,h2{color:#000}h2{font-size:1.5rem;margin-top:2.7rem}h3{font-size:1.3rem;margin-top:2rem}p{color:#353535;margin-top:1rem}li{font-size:.9rem}.gatsby-highlight-code-line{background-color:#45689c;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #f99}.gatsby-highlight{font-size:.9em}.gatsby-highlight:hover{width:1000px}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.about-css-modules-module--user--2CXbd{display:flex;align-items:center;margin:0 auto 12px}.about-css-modules-module--user--2CXbd:last-child{margin-bottom:0}.about-css-modules-module--avatar--2lRF7{flex:0 0 96px;width:96px;height:96px;margin:0}.about-css-modules-module--description--ev5yS{flex:1 1;margin-left:18px;padding:12px}.about-css-modules-module--username--2EBkm{margin:0 0 12px;padding:0}.about-css-modules-module--excerpt--2Itwq{margin:0}.container-module--container--3C57J{margin:3rem auto;max-width:600px}:not(pre)>code[class*=language-]{background:#345d82}pre[class*=language-]{background:#002a4f}.mjx-chtml{display:inline-block;line-height:0;text-indent:0;text-align:left;text-transform:none;font-style:normal;font-weight:400;font-size:100%;font-size-adjust:none;letter-spacing:normal;word-wrap:normal;word-spacing:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;margin:0;padding:1px 0}.MJXc-display{display:block;text-align:center;margin:1em 0;padding:0}.mjx-chtml[tabindex]:focus,body :focus .mjx-chtml[tabindex]{display:inline-table}.mjx-full-width{text-align:center;display:table-cell!important;width:10000em}.mjx-math{display:inline-block;border-collapse:separate;border-spacing:0}.mjx-math *{display:inline-block;box-sizing:content-box!important;text-align:left}.mjx-denominator,.mjx-numerator{display:block;text-align:center}.MJXc-stacked{height:0;position:relative}.MJXc-stacked>*{position:absolute}.mjx-stack,.MJXc-bevelled>*{display:inline-block}.mjx-op{display:block}.mjx-under{display:table-cell}.mjx-over{display:block}.mjx-over>*,.mjx-under>*{padding-left:0!important;padding-right:0!important}.mjx-prestack>.mjx-presub,.mjx-prestack>.mjx-presup,.mjx-stack>.mjx-sub,.mjx-stack>.mjx-sup{display:block}.mjx-delim-h>.mjx-char{display:inline-block}.mjx-surd{vertical-align:top}.mjx-surd+.mjx-box{display:inline-flex}.mjx-mphantom *{visibility:hidden}.mjx-merror{background-color:#ff8;color:#c00;border:1px solid #c00;padding:2px 3px;font-style:normal;font-size:90%}.mjx-annotation-xml{line-height:normal}.mjx-menclose>svg{fill:none;stroke:currentColor;overflow:visible}.mjx-mlabeledtr,.mjx-mtr{display:table-row}.mjx-mtd{display:table-cell;text-align:center}.mjx-label{display:table-row}.mjx-box{display:inline-block}.mjx-block{display:block}.mjx-span{display:inline}.mjx-char{display:block;white-space:pre}.mjx-itable{display:inline-table;width:auto}.mjx-row{display:table-row}.mjx-cell{display:table-cell}.mjx-table{display:table;width:100%}.mjx-line{display:block;height:0}.mjx-strut{width:0;padding-top:1em}.mjx-vsize{width:0}.MJXc-space1{margin-left:.167em}.MJXc-space2{margin-left:.222em}.MJXc-space3{margin-left:.278em}.mjx-test.mjx-test-display{display:table!important}.mjx-test.mjx-test-inline{display:inline!important;margin-right:-1px}.mjx-test.mjx-test-default{display:block!important;clear:both}.mjx-ex-box{display:inline-block!important;position:absolute;overflow:hidden;min-height:0;max-height:none;padding:0;border:0;margin:0;width:1px;height:60ex}.mjx-test-inline .mjx-left-box{display:inline-block;width:0;float:left}.mjx-test-inline .mjx-right-box{display:inline-block;width:0;float:right}.mjx-test-display .mjx-right-box{display:table-cell!important;width:10000em!important;min-width:0;max-width:none;padding:0;border:0;margin:0}.MJXc-TeX-unknown-R{font-family:monospace;font-style:normal;font-weight:400}.MJXc-TeX-unknown-I{font-family:monospace;font-style:italic;font-weight:400}.MJXc-TeX-unknown-B{font-family:monospace;font-style:normal;font-weight:700}.MJXc-TeX-unknown-BI{font-family:monospace;font-style:italic;font-weight:700}.MJXc-TeX-ams-R{font-family:MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}.MJXc-TeX-cal-B{font-family:MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}.MJXc-TeX-frak-R{font-family:MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}.MJXc-TeX-frak-B{font-family:MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}.MJXc-TeX-math-BI{font-family:MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}.MJXc-TeX-sans-R{font-family:MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}.MJXc-TeX-sans-B{font-family:MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}.MJXc-TeX-sans-I{font-family:MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}.MJXc-TeX-script-R{font-family:MJXc-TeX-script-R,MJXc-TeX-script-Rw}.MJXc-TeX-type-R{font-family:MJXc-TeX-type-R,MJXc-TeX-type-Rw}.MJXc-TeX-cal-R{font-family:MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}.MJXc-TeX-main-B{font-family:MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}.MJXc-TeX-main-I{font-family:MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}.MJXc-TeX-main-R{font-family:MJXc-TeX-main-R,MJXc-TeX-main-Rw}.MJXc-TeX-math-I{font-family:MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}.MJXc-TeX-size1-R{font-family:MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}.MJXc-TeX-size2-R{font-family:MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}.MJXc-TeX-size3-R{font-family:MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}.MJXc-TeX-size4-R{font-family:MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}.MJXc-TeX-vec-R{font-family:MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}.MJXc-TeX-vec-B{font-family:MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}@font-face{font-family:MJXc-TeX-ams-R;src:local("MathJax_AMS"),local("MathJax_AMS-Regular")}@font-face{font-family:MJXc-TeX-ams-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-cal-B;src:local("MathJax_Caligraphic Bold"),local("MathJax_Caligraphic-Bold")}@font-face{font-family:MJXc-TeX-cal-Bx;src:local("MathJax_Caligraphic");font-weight:700}@font-face{font-family:MJXc-TeX-cal-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-frak-R;src:local("MathJax_Fraktur"),local("MathJax_Fraktur-Regular")}@font-face{font-family:MJXc-TeX-frak-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-frak-B;src:local("MathJax_Fraktur Bold"),local("MathJax_Fraktur-Bold")}@font-face{font-family:MJXc-TeX-frak-Bx;src:local("MathJax_Fraktur");font-weight:700}@font-face{font-family:MJXc-TeX-frak-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-math-BI;src:local("MathJax_Math BoldItalic"),local("MathJax_Math-BoldItalic")}@font-face{font-family:MJXc-TeX-math-BIx;src:local("MathJax_Math");font-weight:700;font-style:italic}@font-face{font-family:MJXc-TeX-math-BIw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-R;src:local("MathJax_SansSerif"),local("MathJax_SansSerif-Regular")}@font-face{font-family:MJXc-TeX-sans-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-B;src:local("MathJax_SansSerif Bold"),local("MathJax_SansSerif-Bold")}@font-face{font-family:MJXc-TeX-sans-Bx;src:local("MathJax_SansSerif");font-weight:700}@font-face{font-family:MJXc-TeX-sans-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-I;src:local("MathJax_SansSerif Italic"),local("MathJax_SansSerif-Italic")}@font-face{font-family:MJXc-TeX-sans-Ix;src:local("MathJax_SansSerif");font-style:italic}@font-face{font-family:MJXc-TeX-sans-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-script-R;src:local("MathJax_Script"),local("MathJax_Script-Regular")}@font-face{font-family:MJXc-TeX-script-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-type-R;src:local("MathJax_Typewriter"),local("MathJax_Typewriter-Regular")}@font-face{font-family:MJXc-TeX-type-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-cal-R;src:local("MathJax_Caligraphic"),local("MathJax_Caligraphic-Regular")}@font-face{font-family:MJXc-TeX-cal-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-B;src:local("MathJax_Main Bold"),local("MathJax_Main-Bold")}@font-face{font-family:MJXc-TeX-main-Bx;src:local("MathJax_Main");font-weight:700}@font-face{font-family:MJXc-TeX-main-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-I;src:local("MathJax_Main Italic"),local("MathJax_Main-Italic")}@font-face{font-family:MJXc-TeX-main-Ix;src:local("MathJax_Main");font-style:italic}@font-face{font-family:MJXc-TeX-main-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-R;src:local("MathJax_Main"),local("MathJax_Main-Regular")}@font-face{font-family:MJXc-TeX-main-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-math-I;src:local("MathJax_Math Italic"),local("MathJax_Math-Italic")}@font-face{font-family:MJXc-TeX-math-Ix;src:local("MathJax_Math");font-style:italic}@font-face{font-family:MJXc-TeX-math-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size1-R;src:local("MathJax_Size1"),local("MathJax_Size1-Regular")}@font-face{font-family:MJXc-TeX-size1-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size2-R;src:local("MathJax_Size2"),local("MathJax_Size2-Regular")}@font-face{font-family:MJXc-TeX-size2-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size3-R;src:local("MathJax_Size3"),local("MathJax_Size3-Regular")}@font-face{font-family:MJXc-TeX-size3-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size4-R;src:local("MathJax_Size4"),local("MathJax_Size4-Regular")}@font-face{font-family:MJXc-TeX-size4-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-vec-R;src:local("MathJax_Vector"),local("MathJax_Vector-Regular")}@font-face{font-family:MJXc-TeX-vec-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-vec-B;src:local("MathJax_Vector Bold"),local("MathJax_Vector-Bold")}@font-face{font-family:MJXc-TeX-vec-Bx;src:local("MathJax_Vector");font-weight:700}@font-face{font-family:MJXc-TeX-vec-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf) format("opentype")}</style><meta name="generator" content="Gatsby 2.32.11"/><title data-react-helmet="true">카카오페이지 운영툴을 점진적으로 개선한 이야기 · 개발블로그</title><link data-react-helmet="true" rel="canonical" href="https://blog.gyus.me/2021/2021_09_about_kakaopage_admin_tool/"/><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" name="google-site-verification" content="DKf0uKbVabYGKz0sq8wWSyZz_1vtPx3Pey1ifAguz-E"/><meta data-react-helmet="true" name="description" content="&lt;blockquote&gt;
&lt;p&gt;이글은 기승전채용의 형식으로 쓰여진 꽤 긴 이야기입니다.&lt;br&gt;
긴 글을 읽는 게 힘드신 분은 가장 아래에 채용 링크가 있으니 많은 지원 부탁드립니다!!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하며&lt;/h2&gt;
&lt;p&gt;…&lt;/p&gt;"/><meta data-react-helmet="true" name="image" content="https://blog.gyus.me/static/2b7f79e58273bd61b325c7b5e7becb9a/2244e/20210915_1.jpg"/><meta data-react-helmet="true" property="og:url" content="https://blog.gyus.me/2021/2021_09_about_kakaopage_admin_tool/"/><meta data-react-helmet="true" property="og:title" content="카카오페이지 운영툴을 점진적으로 개선한 이야기"/><meta data-react-helmet="true" property="og:description" content="&lt;blockquote&gt;
&lt;p&gt;이글은 기승전채용의 형식으로 쓰여진 꽤 긴 이야기입니다.&lt;br&gt;
긴 글을 읽는 게 힘드신 분은 가장 아래에 채용 링크가 있으니 많은 지원 부탁드립니다!!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하며&lt;/h2&gt;
&lt;p&gt;…&lt;/p&gt;"/><meta data-react-helmet="true" property="og:image" content="https://blog.gyus.me/static/2b7f79e58273bd61b325c7b5e7becb9a/2244e/20210915_1.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@wapj2000"/><meta data-react-helmet="true" name="twitter:title" content="카카오페이지 운영툴을 점진적으로 개선한 이야기"/><meta data-react-helmet="true" name="twitter:description" content="&lt;blockquote&gt;
&lt;p&gt;이글은 기승전채용의 형식으로 쓰여진 꽤 긴 이야기입니다.&lt;br&gt;
긴 글을 읽는 게 힘드신 분은 가장 아래에 채용 링크가 있으니 많은 지원 부탁드립니다!!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하며&lt;/h2&gt;
&lt;p&gt;…&lt;/p&gt;"/><meta data-react-helmet="true" name="twitter:image" content="https://blog.gyus.me/static/2b7f79e58273bd61b325c7b5e7becb9a/2244e/20210915_1.jpg"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-ef336af5ba4546672702.js"/><link as="script" rel="preload" href="/framework-beda7bde9d7dca0755ce.js"/><link as="script" rel="preload" href="/app-c37cd6c65d9db0f27ac2.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/a302fdf6aec10395ed3ea85c70b5f45c90edb721-62a5daf491dd29034fec.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-39b8e882229d8eff4eda.js"/><link as="fetch" rel="preload" href="/page-data/2021/2021_09_about_kakaopage_admin_tool/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3159585216.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4202924991.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="5ezhey">.css-5ezhey{margin:0 auto;max-width:800px;padding:1.625rem;padding-top:2.4375rem;}</style><div class="css-5ezhey"><style data-emotion-css="1k6j4hi">.css-1k6j4hi{margin-bottom:2.4375rem;}</style><header class="css-1k6j4hi"><a style="text-shadow:none;background-image:none" href="/"><style data-emotion-css="6n7j50">.css-6n7j50{display:inline;}</style><h3 class="css-6n7j50">승귤입니다</h3></a><style data-emotion-css="1j0dwki">.css-1j0dwki{list-style=none;float:right;}</style><ul class="css-1j0dwki"><li style="margin-right:1rem;display:none"><a style="color:;text-decoration:none" href="/">Home</a></li><li style="margin-right:1rem;display:inline-block"><a style="color:;text-decoration:none" href="/dev">Dev</a></li><li style="margin-right:1rem;display:inline-block"><a style="color:;text-decoration:none" href="/diary">Diary</a></li><li style="margin-right:1rem;display:inline-block"><a style="color:;text-decoration:none" href="/tags">Tags</a></li><li style="margin-right:1rem;display:inline-block"><a style="color:;text-decoration:none" href="/about">About</a></li></ul></header><div style="clear:both"><h1>카카오페이지 운영툴을 점진적으로 개선한 이야기</h1><div><blockquote>
<p>이글은 기승전채용의 형식으로 쓰여진 꽤 긴 이야기입니다.<br>
긴 글을 읽는 게 힘드신 분은 가장 아래에 채용 링크가 있으니 많은 지원 부탁드립니다!!</p>
</blockquote>
<h2>시작하며</h2>
<p>이 이야기는 내가 카카오페이지에 재입사하게 되면서, 시작되게 된다. 때는 2017년 12월로 거슬러 올라가게 되는데, 부산에서 많은 고생을 하며 백엔드 서비스를 php에서 go로 갈아엎고 이제 할만하다 싶은 시기가 되긴 했었다. 하지만, 너무 부산의 업무환경이 너무 좋지 않아 원래 그전에 다니던 회사(당시 포도트리)로 다시 재입사를 하게 되었다. 이때는 나도 운영툴만 이렇게 오랫동안 만들고 있게 될 줄은 몰랐다. 사실 운영툴이라는 게 보통 API 다 만들고 테스트하기 귀찮으니깐 짬짬이 후다닥 만들어서 내놓는 툴이 아니던가…  그렇게 생각했고, 그때 당시의 운영툴 상황도 그러했다…</p>
<h2>2018년 꺼지지 않는 불</h2>
<p>내가 입사하고 들어간 곳은 운영툴만 담당해서 제작하는 팀이었다. 사실 그간 해온 일에 비하면 굉장히 난이도는 쉬운 축에 속하기도 해서 별거 아니겠지라고 생각했는데, 웬걸 생각보다 문제가 많았다. 여기서는 그런 문제들을 조금만 풀어보려고 한다.</p>
<h3>부담되는 레거시</h3>
<p>카카오페이지 백엔드 서비스는 slide라는 단일 프로젝트로 시작되었다. 거기에 API도 있고, 파트너 사이트도 있고, 정산, 통계, 광고, 이벤트, 운영툴 모두 다 있는 구조였다. 이렇게 굴러갈 때에는 그래도 서버팀이 6명 정도의 인원이었는데, 하나의 모놀리틱 프로젝트의 소스를 보는 사람들 대부분이 알고 있는 구조였다고 생각하면 된다. 그래서 같이 사용하는 소스들이 굉장히 많았고 여기저기서 가져다 사용할 수 있도록 래핑 되어 있는 소스들이 많았다. 인터페이스는 거의 없고, 메서드가 아주 길고 장대한 구조로 되어 있어서 소스를 파악하는 게 매우 힘들었다.</p>
<p>오자마자 하게 된 일은 레거시를 포팅하는 것이었는데, 반 정도 되는 기능이 레거시에서 돌아가고 있어서 레거시라고 부르기도 좀 뭐한 상황이었다. 그래서 가장 힘들다고 생각되는 것이 두 가지 있었는데, 그중 하나인 작품 관리를 장고로 포팅하기로 했다. 이제야 얘기하지만, 작품 관리 쪽에 기능이 너무나 많아서 그것을 포팅하는데만 2달이 걸렸었다. 그도 그럴 것이 콘텐츠를 서비스하는 회사에서 운영에 핵심적인 것 중 하나가 작품 관리인데, 쉽게 생각한 내가 잘못이었다.</p>
<h3>배포하면 터지는 서버</h3>
<p>이 부분이 너무나 힘들었다. 개발자로 살아오면서 여러 가지 장애를 만나봤지만, 이렇게 어이없는 경우는 난생처음이었다. 배포하면 터지는 이유는… 소스코드는 반영이 되었는데, 디비 테이블이 생성이 안되었다거나 테이블은 있는데 데이터가 없다거나 하는 아주 단순한 이유가 많았고, 그 외에도 기본적인 것을 확인하지 않은 것이 대부분이었다. 황당했다.</p>
<p>이런 어이없는 일을 겪는 게 처음이라, 처음 몇 번은 그냥 있다가 나중에는 배포하기 전에 미리미리 개발자가 하루 전에 테스트해보자고 제안하게 되었다. 메이저 업그레이드가 있는 날은 아침 일찍 나와서 사람들이 출근하기 전에 배포하고 간단한 전수 테스트를 진행하였다. 이를 릴리즈 리뷰라고 불렀다.</p>
<p>그 뒤로도 어이없게 터지는 경우가 한 번씩은 있었지만, 개발자가 진행하는 알파테스트를 넣고 나서는 많이 줄어들었다. 지금 생각해도 이 부분은 잘했다고 생각한다.</p>
<blockquote>
<p>현재는 개발자가 수시로 테스트 서버에서 테스트하고 있기에, 위의 릴리즈 리뷰는 2019년 6월에 폐지하였다.</p>
</blockquote>
<h3>쓸데없는 컨벤션 논쟁</h3>
<p>팀에 합류할 때 개발자 A와 개발자 B가 있었다. 문제는 그들의 성향이 너무나 달랐다는 것이었다. A는 빠르게 만들고 에러를 만나면 고치는 스타일이었으며, B는 스펙을 따져보고 곰곰이 고민하며 만드는 스타일이었다. 코드에도 그러한 성향이 반영되었다. A는 툭하면 함수명 클래스명을 바꿨고 클래스와 패키지의 위치를 이동시켰다. B는 그렇게 작업하는 A를 달가워하지 않았다. 나까지 해서 개발자가 A, B, C가 되었다. 머지하면 충돌이 일상이었다. 리뷰는 없었고 서로 코드의 커밋을 잘 확인해가며 조심조심하며 작업하는 상황이었다. 개발 시의 스트레스가 많았다.</p>
<p>flake8이나 yapf을 도입하려고 하다가 black이라는 아주 강력한 코드 포매터를 찾게 되었고, 팀에 강제로 도입을 하게 되었다. 배포 후에 내가 일괄로 적용을 해버렸다. 그 뒤에도 해당 법칙을 어기는 녀석이 나오면 강제로 적용을 해버렸다. 이제 쓸데없는 컨벤션 논쟁은 사라지게 되었다.</p>
<p>그렇지만, 마음대로 리팩터링 해버리는 문제는 아직 남아있었는데 리팩터링 자체가 나쁜 것은 아니었지만, 리팩터링을 하면서 피쳐 작업을 같이하는 것이 아주 좋지 않다고 보았다. 그래서 이런 경우는 무조건 PR을 올리도록 하였고, 리팩터링 작업과 피쳐 작업을 분리해서 올리도록 하고 나니 점점 좋아졌다. 지금은 1줄을 변경하더라도 무조건 PR을 올리도록 되어 있다.</p>
<blockquote>
<p>black을 도입한 것은 2019년이다. 진즉 도입해야 했는데, 이 때는 불을 끄는 게 더 급했다.</p>
</blockquote>
<h3>잠수함 패치</h3>
<p>배포하면 터지는 서버와 연관되는 문제로 잠수함 패치가 있었다. 이게 뭐냐면 배포 스크립트 또는 프로세스를 통해 배포를 하는 것이 아니라 라이브로 돌아가는 서버의 코드를 바로 수정하고 재시작하는 것이었다. 잠수함 패치는 여러 가지 문제가 있지만 대표적으로 두 가지 문제가 있는데, 하나는 문제가 공유되지 않는다는 점이고 다른 하나는 잠수함 패치를 해서 서버가 터지는 상황이 될 수 있다는 것이었다. 운영자들에게 갑자기 운영툴이 동작하지 않아요~!!라는 연락이 와서 살펴봤는데, 잠수함 패치가 되어 있으면 참 기분이 좋지 않았다. 이 문제는 계속해서 설득하고 협박하고 주의를 주어서 몰래몰래 배포하는 경우는 절대 없도록 하였다. 지금은 시니어 두 명에게만(나 포함) 실서버 접근권한을 줘서 그런 문제가 생기지 않게 아예 막아버렸다.  </p>
<h3>2018년은 정말 불 끄다가 한 해가 지나갔다.</h3>
<h2>2019년 일도 늘고 사람도 늘고…</h2>
<p>자, 2018년에는 불을 끄느라 정신없이 지나갔다. 그럼 2019년에는 무엇을 해야 할까? 기존에 문제가 되던 것들을 개선할 차례라고 생각했지만, 광고팀의 업무가 갑자기 우리 팀으로 오게 되었다. 개선 작업은 언제 하지.</p>
<h3>인사가 만사다</h3>
<p>IT업무에서는 정말 그렇다. 불을 많이 껐으니 이제 개선을 하나씩 해야 한다. 그런데 그러려면 사람을 뽑아야 된다. 다행히 고생하는 것을 아셨는지 2019년 1월에 바로 주니어분이 한 분 입사하셨다. 그리고 3월에 또 한 분 입사하셨다. 이제 팀에는 A, B, C, D, E 개발자가 생기게 되었다. 나는 팀장이 되었고, 코드 작성을 60% 매니징을 40% 정도 하는 상황이 되었다. 점점 더 일을 잘 쪼개서 해야 되는 상황이 되어서 기획에서 넘어오는 일을 잘 정리해서 알려드리는 것도 일이 되었다. 이때 프런트 개발자를 뽑지 않은 것은 두고두고 후회하고 있다.</p>
<h3>광고팀 개발자가 남기고 간 유산 ruby, vuejs</h3>
<p>광고팀의 업무를 넘겨받으면서, 3주 동안 인수인계를 받았다. 1주는 루비를 배우고 2주는 vuejs 관련한 내용으로 인수인계를 받게 되었다. 인수인계하면서는 거의 변경될 내용이 없을 것이다 라고 했지만… 굉장히 많은 변화가 있었다고 한다. 그래도 이때 배운 vuejs가 나중에 개선할 때 큰 도움이 되었다. 광고업무는 6개월정도는 개발을 했었고 그 후에는 신규로 생긴 광고팀에 넘겨주게 되었다.                                </p>
<blockquote>
<p>명심하자 절대라는 건 없다</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/fb4fa01b83a0bbd09565c30dfe8e2f5c/b4294/20210915_2.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 105.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDAQT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHzTpBXFCMJFoDj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECIkESE//aAAgBAQABBQL0Yp1U2ihzFRozMZ//xAAXEQADAQAAAAAAAAAAAAAAAAABAhAR/9oACAEDAQE/ARkWf//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABkQAAIDAQAAAAAAAAAAAAAAAAAhARARMf/aAAgBAQAGPwKnIjWcNv8A/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBYVH/2gAIAQEAAT8hsvw2iJULGWhpMDrTqAnZ8Yc6o3e3kHNZEnDzP//aAAwDAQACAAMAAAAQIDC+/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAQESEx/9oACAEDAQE/ENTmmkez/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EHYz/8QAHhABAAICAgMBAAAAAAAAAAAAAQARIVExQWGh8PH/2gAIAQEAAT8Q7TldDUFl05AyfXO2F3CkZEFTxpvqmOPBYMoj+QjwbVtt+4xaWAPFxdA7jZgpbif/2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="images/20210915_2.jpg"
        title="images/20210915_2.jpg"
        src="/static/fb4fa01b83a0bbd09565c30dfe8e2f5c/b4294/20210915_2.jpg"
        srcset="/static/fb4fa01b83a0bbd09565c30dfe8e2f5c/75985/20210915_2.jpg 150w,
/static/fb4fa01b83a0bbd09565c30dfe8e2f5c/f93b5/20210915_2.jpg 300w,
/static/fb4fa01b83a0bbd09565c30dfe8e2f5c/b4294/20210915_2.jpg 600w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>회의를 진행하자</h3>
<p>개인적으로는 준비되지 않은 회의를 너무 싫어하기에 팀 회의는 일주일에 한 번 하는 대신 주간 업무 현황을 적어서 함께 보면서 회의를 진행하였다.</p>
<p>회의 문서는 컨플루언스를 사용했고, 사람별로 지난주 할 일, 이번 주 할 일 그리고 공지사항(지난주, 예정), 개선을 위한 의견 이렇게 구성되어 있었다. 사람이 많아지면 개선에 대한 내용은 받기 힘든데, 본인들이 했던 일과 한일 할 일들을 정리하면서 한주를 시작하는 것은 괜찮았다고 개인적으로는 평가한다.                               </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ddea83d65217489425589232bb6fed05/78363/20210915_3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 144.66666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9UlEQVRIx62ViZKCMAxA+/8f6ShSFPFGwDvblzUOW9kVd+hMhlJKmrwcdUVRSFmWMtRwKLtcLnK9XvX5l9R1LVVVvawfj0c5nU5yu93Eee9lNpvJbreTzWYj+/2+Uzh4Op3KeDzWOfuRw+EgaZrKfD5X5a48VOKzmSwWC1mv12r2/X5/caW9ZnN7Nk2jFqrL7Y9dit6N+CCHyfDrwxAr4BWvn89nFWUIF2O43W6VTyww5OAkSWQ0Gunc2BIk4pDn+TfDqqolCwxZgKG5Hgunx3jsHaVwfKYN6cCwn/5S+m6PWy6XT4WDJDbcLOwAZ94lfFutVkJltfcxhz+eElhHQNLUKz9+gAfQY2EdzlmWqUe2jlJ0kMeqsGmO4aVQZZzUJ9/iQcoQYXU5bJUhh8PVvgyt3mOGhkRd9j7T4kYxwoffBH4UQsyQ9R8Mi+VKGRLxOHHjRtCV2HgHR3XZanQwhnm+0FqED+brAY+G+YlY03A0RkBTMclkIrsw78rDd0JiY5BDMwLQMlhZh49dHPuKk4GHukzItZM8Gq11lf+II4fgh1Jqst08PxVlWDIJidoEjihEuV0J/xFnJYVllpyxG30Doi5bPbazvavT9I4ylvnAkQsInnbZ86S2raX1vWL1Xs4zL2kyUYZUDZGnCUxCotOhP7HyC6lh29gY7aNnAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="images/20210915_3.png"
        title="images/20210915_3.png"
        src="/static/ddea83d65217489425589232bb6fed05/0a47e/20210915_3.png"
        srcset="/static/ddea83d65217489425589232bb6fed05/8a4e8/20210915_3.png 150w,
/static/ddea83d65217489425589232bb6fed05/5a46d/20210915_3.png 300w,
/static/ddea83d65217489425589232bb6fed05/0a47e/20210915_3.png 600w,
/static/ddea83d65217489425589232bb6fed05/1cfc2/20210915_3.png 900w,
/static/ddea83d65217489425589232bb6fed05/c1b63/20210915_3.png 1200w,
/static/ddea83d65217489425589232bb6fed05/78363/20210915_3.png 1522w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>1년 후를 바라보며 워크숍을 진행하자</h3>
<p>아래 이미지는 워크숍을 진행하며 남긴 마인드맵이다. 팀원들은 인식을 하고 있었는지 모르겠지만, 1년짜리 계획을 미리 세우고 업무를 진행하는 것은 매우 좋았었다. 마인드맵에 있는 것을 모두 하지는 못했지만, 굉장히 많은 부분들을 진행할 수 있었고 의미도 있었다. 앞으로도 내가 팀장이 된다면 1년 치 마일스톤을 가지고 진행할 것 같다.                               </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9fdca54b19fde87ec6c724ca66beaa42/d8817/20210915_4.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 184%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAIAAADNzV5SAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+klEQVRIx4VVaW/bOhDM//9vxUt9yRIl3vetIy7SoMBb2UkQp7Zr7Aea1JDD3dnhU87z4yh5FkwJYXIsErOh7T+Xnv4NjkULzamM2hg8cNSXsuS8/BM8QRSfrLbeeK9Mu90Px04w6WyCLa7A8H+N+pJh7/Og1KWEcpnP1gnURxeBf07j95NjmqxN1sQQanBZCa2lyS4Y7Y1ySet+v4+heFj15Rqcpmi9FkozGZTJNjjtvAnZ+eAi0C7WkRYpwhxXXrtr2nGE3NSV6ksBVqmW8VTKy0q7nsr4K0hNmkYzAZMVZq7AAIjlY6N6vtg5YQH4m2C8YnxAQ4oVKkcx977cBReItSRzCcnbmFywjJHjMWobjVWUQ/1ug4F28tm5fB5XqxykwzJBjm1K03tRvtFeT4MLlwW+AG59h5WO6awHmIR01DOXWwqD00I2LnuXXVqUScaPbS8PLabCNR1l3KQ1C7fAsGB9ZdJLGUwEcNR+6rHabJqmJdsdQlhdWNwAxzSHBDdZGfo0S5O0TS5OxhZtQV3VhBrjGKEQN8Exny9WX1KaOfO4V8HWYItRkPGJDnq/6fqOfZL/QjsvxlROtWQm6BrD6F1JcVIiUKysygq2Q1JxUOY7+afPbeA7r6vVyekEA0mtZNbJQlrZ7TFqGR4EJwaYA+SCenp7+3P69fr69nZaXpOfx+lUV1Uu3qb1ZD9LDJJmknojU47zBQlbrODfv19jSrmW0/ICYiCEESJijEYMdEAwAFWGVS3LBfZ57AqepimFAE24THNUWlEKX5cYNCeKc2e04tRa9+EN89+lmi4LWnnSM6cjRhQdkeAaE2hRP02ncq2t62zDWhzBXJTLNk27Y785oOdd+9+2aTpCiAQDdL7cAZ8V5pS34JLS4QM6Pu/63ZEce46IxMIAWLp8T54gEhtG8BfYQjOluUFH0uw6SWUOteQHtM9gYQsHbZuVvIoLFv7QsQH64Y69fgVPCtwvjFwn1AsbJgfhR5j51kw3TX9UykLrwMmEyX6ALCnBZfywlAfgBRwvGAVpDVZZivDh59DugvcpT/mftFMarQK08VK1Pzeo6STX0B7vTlYeJixAqUKpqWbrnVR0wF3TohZpHSCMiX/jrxIGhRTKg6W7NEF1n7fNZt+CSOD6kMtHd06pwttgbAbTAwPpBv7jx/Nmc9huDpyI9+fqUcKcA/fLMVPK237AfH15oPKrDfkSzm14BxyrU+vPGYHaBoISjLpuQD3qEMXEaPOtsb5kO45eOsW0l1Yj3D1vHVwUnoFYUoKnp66R72p74spJ7SBnh+MAgQZGhPWxrt4Cj3a+n+0UZ4YtpQYIbrZos+mGXjpTGTFsUAzr4L9L7X/U3vQX1pztqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="images/20210915_4.png"
        title="images/20210915_4.png"
        src="/static/9fdca54b19fde87ec6c724ca66beaa42/0a47e/20210915_4.png"
        srcset="/static/9fdca54b19fde87ec6c724ca66beaa42/8a4e8/20210915_4.png 150w,
/static/9fdca54b19fde87ec6c724ca66beaa42/5a46d/20210915_4.png 300w,
/static/9fdca54b19fde87ec6c724ca66beaa42/0a47e/20210915_4.png 600w,
/static/9fdca54b19fde87ec6c724ca66beaa42/1cfc2/20210915_4.png 900w,
/static/9fdca54b19fde87ec6c724ca66beaa42/c1b63/20210915_4.png 1200w,
/static/9fdca54b19fde87ec6c724ca66beaa42/d8817/20210915_4.png 1238w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h3>레거시 없애기2</h3>
<p>slide는 정말 없애고 싶었지만, 이미 잘 쓰고 있는 기능이 너무나 많았다. 그래서 시간 날 때마다 팀원들에게 하나씩 자잘한 이슈를 주면서 포팅을 하게 하였다. 그렇지만, 아주 중요한 기능 중에 하나인 심사관리를 포팅하지 못했다.</p>
<h3>레거시는 계속 불탄다.</h3>
<p>입사 시 처음 한 일이 작업량이 많은 왕급 레거시를 하나 포팅한 것이었는데, 다른 왕급 레거시가 나를 괴롭혔다. 바로 심사툴이었는데, 계속 트랜젝션 문제가 생겼고, SQL 쿼리에 하드코딩으로 넣어둔 상태 값 때문에 계속 버그가 생겼다.</p>
<p>카카오페이지에서 심사는 심사를 위한 팀이 따로 있고 이분들의 하는 일은 심사 툴에서 뷰어를 띄워서 심사를 하는 것이 일어 었기 때문에 굉장히 중요한 도구 중에 하나였다.
우선 레거시에 있는 트랜젝션 문제를 해결하기 위해 심사와 관련된 모든 트랜젝션을 조사하여 트랜젝션이 제대로 닫히지 않는 것으로 보이는 곳을 모두 처리하였다. 그리고 이때부터 레거시 포팅을 위한 마음을 강하게 먹었다.</p>
<h3>vuejs 도입</h3>
<p>기존의 운영 툴은 django + bootstrap + jquery로 되어 있는 올드한 구성의 웹페이지였다. 원래 운영툴은 기획이라는 것이 없고 개발자가 원하는 대로 찍어내고 있었는데, 회사가 점차 커지면서 사업부의 요구사항이 많아지게 되었고, 그 요구사항이 계속 개발자에게 직접 오게 되었다. 이 부분이 업무에 지장을 주는 경우가 많아서 운영툴도 기획자가 붙게 되고 기획대로 개발을 하게 되었다. 그런데 기획의 요구사항대로 프런트 페이지를 만드는 게 기존의 django form으로는 너무나 힘든 구성이었다.</p>
<p>django는 기본적으로 form과 model을 매칭 시켜서 화면을 그리고 유효성 검증을 하게 되어 있는데, 기획서대로 만들려면 화면에 N개의 폼이 나와야 하는 형태였다. formset을 쓰면 되지 않느냐고 할 수 있지만, formset은 같은 포맷의 폼이 여러 개인 경우 사용하는 것이고, 만들어야 하는 것은 여러 개의 모델을 한화면에서 조작해야 하는 요구사항이었으며, 동적으로 체크해야 하는 부분(문자열 길이 체크, 이미지 합성 등)들도 있었다.</p>
<p>이런 부분을 해결하기 위해 화면을 reactive 하게 구성할 수 있는 툴이 필요했는데, 광고팀의 업무를 인수인계받으면서 vuejs를 같이 학습하기도 했고, vuejs가 리액트보다는 장고에 붙이기 편해서 vuejs를 사용하게 되었다. UI 프레임워크로는 vuetify와 antdesign을 같이 사용하고 있는데, 이 결정은 굉장히 잘 한 결정이 되었고, 거의 대부분의 기획의 요구사항을 빠르게 수용할 수 있게 되었다.</p>
<h3>django rest framework 도입</h3>
<p>기존에는 django의 제네릭 클래스들을 사용하여 API를 만들었으나, 필터링, 권한 관리, json포맷으로 변환 등등을 자동으로 해주는 django rest framework을 도입하였다. 개인적으로는 viewset을 사용하는 것을 권장하는데 viewset을 사용하면 routing 하는 부분을 조금 절약할 수 있기 때문이다. 그리고 자동으로 restful 한 API가 되는 것 또한 덤이었다.  </p>
<h3>black 도입</h3>
<p>세상 쓸데없는 논쟁이 팀에서 코딩 컨벤션으로 논쟁하는 것이다. 스페이스를 쓸까 탭을 쓸까, 한 라인에는 몇 자까지 허용할까 등등 이런 논쟁이 실제로 있었고, 서로 맞는 말이라 생각했기 때문에 굉장히 피곤했다. 이 논쟁을 종결시키기 위해 가장 강력한 포매터를 강제로 적용했다.  여기서 포인트는 강제로 했다는 것이다. 이런 문제는 민주적으로 절대 해결되지 않는다. 누군가 그냥 정해줘야 한다. 코딩 컨벤션으로 논쟁할 시간에 검증된 포매터를 적용하고 코드를 한 줄이라도 더 짜자.  </p>
<blockquote>
<p>black을 도입하여 컨벤션을 통일했기에, vuejs는 자연스럽게 prettier를 적용하게 되었다.</p>
</blockquote>
<h3>팀원을 다른 팀으로 보내기</h3>
<p>지금은 카카오 웹툰이 론칭이 되어서 다들 알고 있는 사실이지만, 2019년 초부터 글로벌 개발을 시작했었다. 우리 팀에서는 CRM 관련된 기능을 처음부터 끝까지 개발하고 유지 보수한 팀원이 있었기에 그 친구가 글로벌 팀과 협업하여 글로벌 CRM툴을 만들게 되었는데, 잠깐 갈 것처럼 했던 이 팀원은 가서 돌아오지 않았다.. ㅠㅠ</p>
<p>또한 광고 도메인도 우리 팀에서 함께 맡고 있었는데, 광고 관련된 업무를 많이 맡고 있던 팀원도 새롭게 생긴 광고팀으로 이동하게 되었다. 이제 우리 팀에는 A, C, D 요렇게 3명의 개발자가 남았다.</p>
<blockquote>
<p>2019년은 두 명의 개발자가 들어왔다 다시 나가고, 광고업무도 잠깐 보았다가 다시 없어지는 등
변화가 많았던 해 이기도 하고 매니징을 나름대로는 굉장히 열심히 했던 해로 기억한다.</p>
</blockquote>
<h3>hashicorp vault 도입</h3>
<p>회사가 커지면서 보안 검수를 실시하게 되었는데, 보안검수중 민감정보(DB연결정보등)가 소스코드에 있는것이 지적되어서, hashicorp vault를 도입하게 되었다. django settings.py 에서 장고 기동시 민감정보를 받아오게 되는데, 데커레이터의 동작을 정확하게 알고 사용해야하는 부분들이 재밌었던 작업으로 기억하고 있다.</p>
<h3>팀 스터디</h3>
<p>전문가를 위한 파이썬, MDN의 자바스크립트, 데이터 중심 애플리케이션 설계 이렇게 3가지 주제로 스터디를 하게 되었는데, 이것을 계기로 회사 내에서는 스터디를 잘 진행하는 사람으로 알려지게 되었다. 중간에 발표 준비를 빼먹거나 바빠서 못하거나 하는 경우가 한 두 주 정도 있었지만, 그래도 스터디를 전부 완주하였고 이 때문에 나도 팀원들도 역량이 조금씩은 자란 것 같아서 뿌듯했던 경험이었다.</p>
<h2>2020년 개선에 속도가 붙다.</h2>
<p>2019년에 팀장이 되면서 매니저 역할과 코딩을 둘 다 하긴 했지만, 실제로 퀄리티가 조금 아쉽고 개선이 아니라 미봉책에 머무는 녀석들이 눈에 계속 들어왔다. 이 부분이 너무 아쉬워서 회사에 건의하여 팀장 역할을 내려놓고 코딩을 열심히 하기로 하였다.</p>
<blockquote>
<p>팀장으로 있으면서도 개발을 더 많이 하는 방법이 있었을 것 같기도 하다. 하지만 개인적으로는 잘한 결정이라고 생각한다.</p>
</blockquote>
<h3>대부분의 레거시를 걷어냄</h3>
<p>slide 프로젝트에 있는 거의 모든 기능을 포팅했다. 특히나 심사관리는 아주 중요한 툴이라서 조심조심 진행했는데, SQL에 상태가 하드 코딩되어 있던 문제는 transitions라는  상태 머신을 적용하여 해결했다. 웹뷰도 포팅을 했어야 했는데, 웹뷰가 실제 서비스에 쓰던 녀석이라 생각보다 기능이 많아서 웹뷰는 남겨두게 되었다. 이제 정말로 끝이 보인다.</p>
<h3>Ansible 적용</h3>
<p>이전에는 서버의 상태를 puppet으로 관리하고 있었는데, puppet에는 자바 관련된 코드만 작성되어 있고, 파이썬 관련은 없어서 새로운 서버를 구축해야 하면 처음부터 한 땀 한 땀 구축해야 했다. 마침 2020년에 카카오에서 테스트 서버 존을 이전해달라는 요청이 왔는데, 이때가 기회다 싶어서 ansible을 적용하여 서버를 구축하기로 하였다.</p>
<p>이 선택도 잘했다고 생각하는데, ansible은 서버가 따로 필요 없어서 설치가 굉장히 간편했고, 설정도 yaml로 깔끔하게 할 수 있었으며 템플릿에서는 python과 jinja문법을 사용할 수 있어서 나름 익숙한 문법으로 진행할 수 있었다. 이제는 신규로 서버를 설치해야 하면 한방에 설치할 수 있게 되었다.</p>
<p>이때 운영서버뿐 아니라 카카오페이지 서비스를 위한 모든 서버를 커맨드 한방에 설치할 수 있게 변경하였다.</p>
<blockquote>
<p>여담</p>
</blockquote>
<ol>
<li>사실 puppet으로 파이썬 환경 설치하는 것도 2019년에 진행하긴 했었다.</li>
<li>나중에 기존의 서버가 노후화되어서 리얼서버도 ansible로 구축하게 되었다.</li>
<li>은전 한 닢 + ES 5 설치는 진짜 난이도가 너무 높아서 짜증이 많이 났었다. → nori로 변경함.</li>
</ol>
<h3>푸시 운영 툴 재작성</h3>
<p>기존의 푸시는 celery(생산자/소비자) + rabbitmq로 되어 있었는데, celery가 기존의 django와 의존성이 있게 작성되어 있고 모니터링을 붙이는 게 용이하지 않아서 새로 작성하게 되었다. java로 다시 작성했고, 이때 속도조절 기능과 블랙리스트, 화이트리스트 기능을 추가로 붙였고 덤으로 모니터링과 안정적인 성능까지 얻을 수 있게 되었다.</p>
<blockquote>
<p>카카오 인프라상에서는 자바로 만든 서버의 모니터링이 가장 강력하다. APM, AEM 모두 지원한다.</p>
</blockquote>
<h3>테마(큐레이션) 기능 재작성</h3>
<p>카카오 페이지에는 테마라고 불리는 운영자가 만드는 큐레이션 기능이 있다. 기존의 테마보다 한 단계 업그레이드된 기능을 추가했는데, 배너를 추가하거나 벌크로 세팅하거나 하는 기능들을 추가했다. 또한 기존에는 몇 백개씩 세팅을 하면 읽기 속도가 상당히 느렸는데, django의 cache를 사용해서 쿼리를 절약하였다.</p>
<h3>장고 버전업 1.11 → 2.2</h3>
<p>장고 버전업은 LTS버전이 변경될 때마다 해주고 있는데, 너무 안 하다가 한 번에 업그레이드를 하려고 하면 너무 힘들기 때문이었다. 1.11에서 2.2로 업그레이드될 때 짜증 났던 점 한 가지는 pymysql지원이 갑자기 안돼서 울며 겨자 먹기로 mysql client를 사용했던 점이다.</p>
<blockquote>
<p>2021년 9월 3.2로 업그레이드를 완료했다.</p>
</blockquote>
<h3>vuex를 적용하다</h3>
<p>vuejs를 사용하면서 상태 관리를 좀 더 잘하고 싶은 마음에 vuex를 적용하게 되었다. 실제로 써본 느낌은 뭔가 자바 배울 때 getter/setter를 손으로 짜는 기분이었지만, 전역으로 상태를 관리할 수 있게 되어서 컴포넌트를 조금 더 재활용할 수 있는 형태로 변경할 수 있게 되었다.</p>
<h3>감사 로그(audit log) 남기기</h3>
<p>회사가 상장한다는 얘기는 계속 있어왔는데, 정말로 할 것같다라고 느낀 것은 ISMS 심사를 받아야 해서 감사 로그를 남기도록 개발을 진행하면서부터이다. 운영 툴은 성격상 개인정보도 다루고, 기타 민감한 정보들을 다루게 되어 있는데, 이 부분에 대한 로그들이 조금 미진한 부분들이 있었다. 마침 사내에 loki라는 전사 로깅 플랫폼이 생겨서 로깅 플랫폼을 적용하여 감사 로그를 쉽게 남길 수 있게 되었다.</p>
<blockquote>
<p>운영자가 실수하고 개발에 연락 오는 경우 로그로 확인시켜줄 수 있게 된 것은 덤이다.</p>
</blockquote>
<h3>배치 개선</h3>
<p>기존에는 crontab을 사용해서 운영툴의 api를 호출하거나 django management를 사용하도록 되어 있었는데, 데이터 플랫폼 팀에서 airflow를 지원해주어서 airflow의 DAG를 호출하도록 변경하였다. 다만 airflow가 바쁜 경우 배치가 밀리는 경우가 있어서 배치 서버를 따로 구축했다.</p>
<h3>팀원 두 명의 퇴사 그리고 두 명의 입사</h3>
<p>2020년 8월 9월에 팀원 A와 D가 비슷한 시기에 퇴사를 하게 되었다. 이들의 퇴사 의사 표명 몇 개월 전에 시니어분이 합류하셨었는데, 아직 업무파악 중이라 많은 것을 하기는 좀 힘들었지만, A가 담당하고 있던 푸시 시스템 재작성을 시니어분에게 맡겼다. 그리고 나머지는 나 홀로 개발을 해야 하는 상황이 되어서 굉장히 피곤했는데, 어떻게든 되겠지 하는 마음으로 열심히 개발을 하면서 지냈다. 그 와중에 주니어 한분도 입사하시고 잘 적응하고 계신다.</p>
<blockquote>
<p>어떻게든 되겠지라는 마인드도 가끔은 필요하다.</p>
</blockquote>
<h2>2021년 더 더 더 개선하자</h2>
<p>드디어 2021년이다!! 그동안 django + bootstrap + jquery로 되어 있던 운영 툴을 django + DRF + vuejs + vuetify + antd로 변경했다!!</p>
<p> 그리고 오래된 레거시를 거의 걷어내었다. 2021년에는 더 신나는 일들이 벌어지고 있는데 작업하고 있는 것과 앞으로 할 일들을 조금 적어보도록 하겠다.</p>
<h3>레거시 완전히 종료!</h3>
<p>2018년부터 작업했던 slide 걷어내기 작업이 드디어 끝이 난다. 레거시를 걷어내면 이제 개발을 더 빠르게 할 수 있다. 그리고 기존의 django 프로젝트가 레거시가 될 것이다!</p>
<h3>신입 두 분의 입사!</h3>
<p>우리 팀은 약간 훈련소 같은 느낌이다. 다른 팀의 팀원의 변동이 거의 없는 동안 나 빼고 새로 다 바뀌었다. (이제 내가 바뀔 차례인가…) 이번에는 신입 두 분이 오셨는데, 한분은 백엔드, 한분은 프런트를 위주로 하시는 분이었다. 특히나 프런트 하는 분은 신입이지만 팀에 매우 힘이 되고 있다~</p>
<h3>vuejs에서 react로~!</h3>
<p>vuejs는 잘 사용하고 있지만, vuejs2에서 3으로 마이그레이션 하는 코스트가 너무나 커서 마이그레이션을 못하고 있다. 고민을 하다가 화면 관리 운영 툴의 프런트를 새로 만들기로 하고 해당 운영툴은 react를 사용하기로 했다. react를 회사 내 웹팀에서 사용하고 있어서 기술 관련 지원을 받을 수 있을 것이라고 예상하고 react가 vuejs보다는 유지 보수하기 좋을 것 같다는 판단을 내려서 함께 리액트를 공부하며 새로 만들고 있다.</p>
<h3>ansible에서 kubernetes로~!</h3>
<p>예전부터 도커는 사용을 하고 있었지만, 적용을 못하고 있었는데 카카오 공동체도 DKOS3라는 쿠버 네티스 엔진을 지원하는 클라우스 서비스를 사용할 수 있게 되어서 새로운 프로젝트는 k8s를 적용하려고 준비하고 있다. 이에 CI는 기존과 같이 젠킨스를 쓰지만 CD는 argocd를 사용하려고 준비 중에 있다.</p>
<h3>CDC 적용하기</h3>
<p>페이지 서비스의 작품은 수만 개가 되는데, 작품이 판매 시작되는 시점이 서비스적으로는 굉장히 중요하다. 예를 들어 판매 시작되는 시작이 22시 라면 그 시간에 보여야 하는데, 캐시가 딱 그 시간에 적용이 안되고 1~3분 정도 밀리는 현상이 가끔 있다. 또한 페이지 서비스 내의 서버들은 최신의 상태의 작품 정보를 읽어와야 하는데 모든 서버들이 디비를 사용하면 디비에 부하를 주게 된다. (현재는 그렇다.) 그래서 CDC를 적용하여 작품과 회차의 상태를 실시간에 반영할 수 있도록 하고 검색을 위한 인덱스도 실시간으로 개선하는 작업을 하려고 진행 중이다.  </p>
<h3>graphql 도입</h3>
<p>리액트에서 restapi를 호출하면 redux를 사용하고 상태를 굉장히 번거롭게 관리를 해야 하는데, 웹팀에서 graphql을 쓰면 간단하게 된다고 하여 장고 서버에 graphql을 도입하였다. DRF에 비하면 번거로운 부분들이 있지만, 엔트리 포인트가 하나밖에 없기 때문에 router를 작성하지 않아도 되고, 모델에 대한 resolve함수를 하나만 작성해두면 모두가 클라이언트에서 쉽게 가져다 쓸 수 있는 점이 매력적이었다. 다만 react도 하면서 graphql도 공부하면서 적용하려니 러닝 커브가 좀 있었다.</p>
<h2>운영 툴을 잘 만들어야하는 이유가 있을까?</h2>
<p>마무리로는 운영 툴 개발을 쉽게 생각했던 과거의 나에게 반성하며 운영 툴을 잘 만들어야 되는 이유가 무엇인지 잠깐 생각해보고자 한다. API 개발은 트래픽을 잘 받아서 서비스를 잘 지탱할 수 있게 하는 탱커 역할의 개발이다. 들어오는 트래픽을 받기 위한 개발이다.</p>
<p>반면에 운영툴은 사용자에게 노출되는 서비스를 빠르고 정확하게 바꿀 수 있게 하고 때로는 사용자에게 메시지를 보내서 사용자를 끌어모을 수 있게 하는 서비스를 노출시키는 딜러 역할의 개발이다. 즉 외부로 나가는 트래픽을 만드는 개발인 것이다. API가 견고하여 서버가 죽지 않는다고 하여도 사용자가 찾아오지 않으면 소용이 없다. 그런 의미에서 서비스를 잘 노출시켜줄 수 있도록 도와주는 서비스도 API에 못지않은 역할을 한다고 할 수 있을 것이다.</p>
<p>운영툴 개발은 기술적 난이도는 사실 API보다는 낮지만, 반면에 다방면의 재능이 필요하다. 프런트 작업도 해야 하고 벡엔드도 해야 하고 인프라도 일부 해야 한다. 작업도 CRUD를 만드는 일부터 비동기 태스크, 배치작업, 화면을 리액트로 만드는 작업등 많은 범위를 커버한다. 그래서 카카오페이지 서비스에서는 해당 직군을 풀 스택 개발로 정의하고 채용을 하고 있다.</p>
<p>앞으로는 백엔드도 API와 똑같은 스택으로 맞추기 위해 django에서 kotlin으로 변경하려고 하고 있다. 나름 다이내믹하고 개선할 부분이 무한대로 있는 국내/글로벌 카카오 페이지 운영툴 개발에 관심이 있는 사람은 아래 링크를 통해 문을 두드려 주면 좋겠다. 운영툴 개발뿐 아니라 다른 테크 직군도 적극 채용중이니 문을 두드려 주시면 좋겠다.</p>
<p><a href="www.kakaoent-entertech.com">www.kakaoent-entertech.com</a></p>
<blockquote>
<p>개인적으로는 카카오엔터테인먼트에 면접만 보더라도 개인적으로는 손해는 아닐것이라 확신한다. 왜냐하면, 면접관들이 3일전부터 이력서 보면서 질문리스트 만들고, 그 질문 리스트를 바탕으로 질문을 드리기 때문이다. 최대한 개인 맞춤형 면접을 해드리기 위해 정말 많이 노력한다. (나도 시간을 굉장히 많이 쓰는 편이다.)</p>
</blockquote></div><hr/><div style="font-family:avenir"><a href="/2021/2021_09_vacation/">이전글: <!-- -->호캉스를 가봤다.</a></div><div style="margin-bottom:1rem;font-family:avenir"></div></div><div><div></div></div><footer style="color:#aaa">(2019.5.13) made by seungkyoo</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-140419734-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2021/2021_09_about_kakaopage_admin_tool/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-aa31a558d1e59c5d37ec.js"],"app":["/app-c37cd6c65d9db0f27ac2.js"],"component---src-pages-about-css-modules-js":["/component---src-pages-about-css-modules-js-376a7a99bf10e921da24.js"],"component---src-pages-about-js":["/component---src-pages-about-js-183c224021bed8730392.js"],"component---src-pages-dev-js":["/component---src-pages-dev-js-5c9c3d8019bfaff39d1c.js"],"component---src-pages-diary-js":["/component---src-pages-diary-js-e4efb6585e0593c0e692.js"],"component---src-pages-index-js":["/component---src-pages-index-js-8cfe78fd35f8a6b723c0.js"],"component---src-pages-my-files-js":["/component---src-pages-my-files-js-4a9f07c7fab80bd6b305.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-3b7a0b927bc6047602e1.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-39b8e882229d8eff4eda.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-09a8391df359ad6092ec.js"]};/*]]>*/</script><script src="/polyfill-aa31a558d1e59c5d37ec.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-39b8e882229d8eff4eda.js" async=""></script><script src="/a302fdf6aec10395ed3ea85c70b5f45c90edb721-62a5daf491dd29034fec.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-c37cd6c65d9db0f27ac2.js" async=""></script><script src="/framework-beda7bde9d7dca0755ce.js" async=""></script><script src="/webpack-runtime-ef336af5ba4546672702.js" async=""></script></body></html>