{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/jupyter-notebook-pdf-problem/","result":{"data":{"markdownRemark":{"html":"<h2>주피터를 저작도구로 사용하기 시작했다</h2>\n<p>최근에 여가시간을 다 보내고도 시간이 남을때 책을 쓰고 있다.</p>\n<p>책을 쓰려면 저작도구가 필요한데, 회사 사람이 책 저작도구로 <code class=\"language-text\">jupyter notebook</code> 을 사용했다고 하여,\n책을 쓰는 용도로 써보니 확실히 개발관련책, 특히나 파이썬 책을 쓰는데에는 아주 좋았다.\n그런데 문제는 여기서 작성한 글을 pdf 로 뽑아낼때 발생했는데...</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 335px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/235bd03b509eac2837aed4aca49708e6/c0051/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAACx0lEQVQ4y4WVW08iQRCF+f//YRM32bi3uJrsi8lmX3wwcYkGb4gI4nCb4TIKcmfAs/21FhndRTopuqen+tSpUzVNJkkSPT4+qt/v+3kwGGg6nYrx9PTkZ56Hw6Fms5lfrzPeZ1g0m02FYagoilQul9VqtTzQYrHwoOa8XC5XQdJr/DDIZR4eHlQsFnV1daXLy0vl83lVq1WNx2ONRiPFcewDcCAIAl1fX+v29tYTuLu78+fIijGfz5WZTCb+MCmZ8Uw0SxE5ACSDRqOhTqfjjX18ecfwDHkgAvqZ8UwgG4DihzS1Wk3tdttnYT6WumeIFtCvVCo+pVKp5FO6v79faQULZgDxIWjax4ZnyM+6ASsDxI+UMTSFZb1eV6/X82u09gxxRFyqS1TWhULBa2kDLQFHPxjCFBDWFqDb7T63DfSJAn2MqjMjOMZBDhEY/QiIfoCwD8t04Iy1B3Pa2DMjqBUFIJhCIt2rKw21YcCS3rPikVoaEDDerQDZWGcMWghtDZCUAWXvbUF9UTYBki4g9qWgKU0NS7Q0cHoSn39SNiCbSY2qw5DDgFnbYKbp6lv+n25phgABYlWGJZVlj4/BXyZRa31R0gxhRGsYIBrCimpjVoxXGq4DxJmb5Pj42FfZvhQLwmwtk743M++lmyTPuoxebhRSRjNSBvAtibUpm8NNqayjoz8q3ty4F0unVaTAVbxWDdRxwKErBgV5dTm8pyGa0A70Ijdeu9dX1RUg7MZ+3RkMFbbaSpzfRkBSPDs9VS6XU8X12eLwt6IfnxR83VLt+0eFe9sKv3xQcJbTeDbfXBTmi/NznZyeqeQOzXa2VD/JKi5cqHx4oGmrKR3+kkp5O7i5KP7Px1V7MhoqOdhXtLutxt5ntX9+U7y/q9n+jhS39ULh/ZRpm2w261OuuupOXTqhq27TrTstd225Bl/9Bbz0I89/ASJsMCHClHfcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img1\"\n        title=\"img1\"\n        src=\"/static/235bd03b509eac2837aed4aca49708e6/c0051/1.png\"\n        srcset=\"/static/235bd03b509eac2837aed4aca49708e6/8a4e8/1.png 150w,\n/static/235bd03b509eac2837aed4aca49708e6/5a46d/1.png 300w,\n/static/235bd03b509eac2837aed4aca49708e6/c0051/1.png 335w\"\n        sizes=\"(max-width: 335px) 100vw, 335px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>File -> Download as -> pdf 를 클릭하면 아래와 같이 에러가 난다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c8fcd699e0745a4738b1892f6eb9084/bad1b/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA60lEQVQY041Qy4qDQBD0/3/CiwmKGEFQPIsnb3pQcBTxrSc10RhlsXanlyzLXtyGph9TVXSNcBwHTuP4wOu14T8h7PsOx3FgmibSNMX9fofnefB9H1EUgSUJGEsQBAFc10Ucx0i+dvwtDEPiMsZov67rt6BhGBBFkUSqqoKqqlAUBZqmwbIsXK8XEpNlGbquw7ZtSJJE+NvtRhhel2WBcGah6zoURYG6rtE0zbnleZ6RZRmR+HV5nqMsS5q5wDRNGMeR6jAM9CWPx+OnvpPPZPn5fKJtWyLza3jf9z31XISD/ibn/M73bts2fAJGIrxvKIsCKwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img2\"\n        title=\"img2\"\n        src=\"/static/2c8fcd699e0745a4738b1892f6eb9084/0a47e/2.png\"\n        srcset=\"/static/2c8fcd699e0745a4738b1892f6eb9084/8a4e8/2.png 150w,\n/static/2c8fcd699e0745a4738b1892f6eb9084/5a46d/2.png 300w,\n/static/2c8fcd699e0745a4738b1892f6eb9084/0a47e/2.png 600w,\n/static/2c8fcd699e0745a4738b1892f6eb9084/bad1b/2.png 841w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>pandoc 과 MacTeX 설치</h3>\n<p>내용인 즉슨 <a href=\"http://pandoc.org/installing.html\">pandoc을 설치해라</a> 이다.\n맥에서는 <code class=\"language-text\">$ brew install pandoc</code> 으로 설치가 가능하다.</p>\n<p>설치후 다시 클릭해보면\n<code class=\"language-text\">xelatex</code> 가 패스에 없다는 에러가 뜬다. <code class=\"language-text\">xelatex</code> 가 없으면 설치하라는 말도 덧붙인다.\n아래 <a href=\"https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex\">링크</a>를 따라 또 설치를 하러 가보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nbconvert failed: xelatex not found on PATH, if you have not installed\nxelatex you may need to do so. Find further instructions at\nhttps://nbconvert.readthedocs.io/en/latest/install.html#installing-tex.</code></pre></div>\n<p>링크를 가보면 <code class=\"language-text\">Installing Tex</code> 라고 떡 하니 <code class=\"language-text\">TeX</code> 를 설치해줘야 하는 것 같다.\nmac은 <code class=\"language-text\">MecTeX</code> 라는것을 설치하면 된다.</p>\n<p><a href=\"http://tug.org/mactex/\">http://tug.org/mactex/</a> 에서</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cf1749cdc18322dc167bec6053e4a137/0ad97/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVQ4y41Ta5PaMAzk//+vzn3qtEd7lEeSiwl5OMZ2TAjkydZyj8BxYaae0TiWpdWurMzwsC6XC/53TcXOpgKa2qCQS2trGO3bfQUl3mDU5sO/QlWmY8498Owe6LYPOJ8kJH+1IJ7bZT6HFgvssx8ozRZ9V2Mqd3bPbkpCVfVYbxSWS4k8Pz2VPgI+Ag3D4Oze13UD2ra3/huba9wj8Ci56zo0TYO6rt2ulALPMsuKI0sTSCmQZQmSZIecZzifzy6OrG3bz5LpoLUG5xy5EBZMgm13WG58eAHDygvgv8dYbRj+rEO8h7GNV9jv97Zg7qzv+5vkqcVNg+/eHq+Bws9A4+W3wcsvg29zg7lXPu2lY0i0q6qCsOwYY87CMMRut7MyM8RxjDiKkCWpszRJENm7a8zxeHQYo2TqAUmmvkkpURTF2II0tSBphjC2RXIGL16DyxTVsURZHlwOSSfQp5LpYQ6Hwz92SexAIxHBFwHeIh+JLXosO5zO3VfJjyNjjHESCYzYXpuupLJ/i0K8NfA2GotFDt9Xbpy+/HokmXpAtCmZpBIYSaFvkk9nnnM3PiGjXksEgbD3xoHWdXd7lCuQcCOjRiMfSb8C0pmKFIX+GBvh7hnT9oG0G/y/wsU08RPrxT4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img3\"\n        title=\"img3\"\n        src=\"/static/cf1749cdc18322dc167bec6053e4a137/0a47e/3.png\"\n        srcset=\"/static/cf1749cdc18322dc167bec6053e4a137/8a4e8/3.png 150w,\n/static/cf1749cdc18322dc167bec6053e4a137/5a46d/3.png 300w,\n/static/cf1749cdc18322dc167bec6053e4a137/0a47e/3.png 600w,\n/static/cf1749cdc18322dc167bec6053e4a137/0ad97/3.png 717w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"http://tug.org/cgi-bin/mactex-download/MacTeX.pkg\">링크</a>를 눌러서 패키지를 다운받아서 설치하자. (참고로 굉장히 오래걸린다)</p>\n<p>MacTex를 설치하자. (pdf 변환하려고 이걸 설치해야하는건 좀 과한거 아닌가라는 생각이 들기시작했다.)</p>\n<p>nbconvert 도 설치해야하는 것 같으니 이것도 설치해주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install nbconvert</code></pre></div>\n<h3>mactex 설치후 패스잡아주기</h3>\n<p><code class=\"language-text\">.bash_profile</code> 에 패스를 잡아주자.</p>\n<p>2020년 5월 13일 기준으로 아래의 패스에 latex에 필요한, 명령어들이 들어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/usr/local/texlive/2020/bin/x86_64-darwin</code></pre></div>\n<p>위 패스를 .bash_profile 에 추가하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># .bash_profile 에 추가해주자\nexport PATH=&quot;/usr/local/texlive/2020/bin/x86_64-darwin:$PATH&quot;</code></pre></div>\n<p>latex을 설치했으니, pdf로 내보내기를 다시 해보면 에러는 나지 않지만, 아래와 같은 화면을 볼 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f8b8112b3670c33db47d085d7bc07d08/c9c44/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyUlEQVQ4y61S7QqDMAzs+79k0aIi+KeI9bsZF8ioLrpJFyhJm+TIXWpIsRgj/WrnWnNVAD+OI59hGGiaJgohvD3e09qvgOu6knOOmqYhay37oijYl2VJVVXpgLicE1mUz4BpvO87x13XUdu2PJX3nt+Qu6WsTSnxPM+sHXRbluUD5ACIQpwryhr9O0nMtm28AJnoir6WVwElALBoljY+NQNd7ig/BkQzNodNanQfA2JrdV1T3/fZYIcJ5X/l0jbSjE3/BVD7czmUXwB6pHNfThwiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img4\"\n        title=\"img4\"\n        src=\"/static/f8b8112b3670c33db47d085d7bc07d08/0a47e/4.png\"\n        srcset=\"/static/f8b8112b3670c33db47d085d7bc07d08/8a4e8/4.png 150w,\n/static/f8b8112b3670c33db47d085d7bc07d08/5a46d/4.png 300w,\n/static/f8b8112b3670c33db47d085d7bc07d08/0a47e/4.png 600w,\n/static/f8b8112b3670c33db47d085d7bc07d08/1cfc2/4.png 900w,\n/static/f8b8112b3670c33db47d085d7bc07d08/c1b63/4.png 1200w,\n/static/f8b8112b3670c33db47d085d7bc07d08/c9c44/4.png 1245w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>위와 같이 글자가 깨져보이는 이유는 폰트가 제대로 설정 되어 있지 않기 때문인데,\npdf내보내기 할때 latex에서 한글 폰트를 읽어올 수 있도록 변경해줘야한다.</p>\n<h2>jupyter 설정</h2>\n<p>jupyter를 설치하고 실행했으면 아마도 <code class=\"language-text\">~/.jupyter</code> 디렉토리가 있을 것이다.\n없다면 만들어주도록 하자. (<code class=\"language-text\">cd ~ &amp;&amp; mkdir .jupyter</code>)</p>\n<p>.jupyter 디렉토리에는 아래의 두개의 파일을 추가 할 것이다.</p>\n<ul>\n<li>latex 템플릿파일 : hangul.tplx</li>\n<li>주피터 노트북 설정 파일 : jupyter<em>notebook</em>config.py</li>\n</ul>\n<h3>hangul.tplx 파일</h3>\n<p>latex 설정파일인데, kotex 라는 패키지를 사용하여 한글폰트를 사용할 수 있게한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">((=- Default to the notebook output style -=))\n ((*- if not cell_style is defined -*))\n     ((* set cell_style = &#39;style_jupyter.tplx&#39; *))\n ((*- endif -*))\n\n ((=- Inherit from the specified cell style. -=))\n ((* extends cell_style *))\n\n\n %===============================================================================\n % Latex Article\n %===============================================================================\n\n ((*- block docclass -*))\n \\documentclass[11pt]{article}\n \\usepackage{kotex}\n ((*- endblock docclass -*))</code></pre></div>\n<h3>jupyter<em>notebook</em>config.py 파일</h3>\n<p>jupyter notebook 설정파일이다.</p>\n<p>우리는 pdf 내보내기할 때의 커맨드만 설정하겠지만, 더 궁금한게 있는 사람은 <a href=\"https://jupyter-notebook.readthedocs.io/en/stable/config_overview.html?highlight=jupyter_notebook_config\">공식문서</a>를 참고하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import os\n# custom_path = os.path.expanduser(&quot;~/.jupyter/nbconvert_templates&quot;)\n# c.TemplateExporter.template_path.append(custom_path)\nc.LatexExporter.template_file = &#39;hangul&#39;\nc.PDFExporter.latex_count = 3\nc.PDFExporter.template_file = &#39;hangul&#39;\nc.PDFExporter.latex_command = [&#39;xelatex&#39;, &#39;{filename}&#39;]</code></pre></div>\n<ul>\n<li><code class=\"language-text\">LatexExporter</code> 와 <code class=\"language-text\">PDFExporter</code> 의 템플릿파일을 hangul 로 변경해준다.</li>\n<li><code class=\"language-text\">PDFExporter</code>에 딸려서 실행하는 latex_command 를 <code class=\"language-text\">xelatex filename</code> 으로 변경해준다.</li>\n<li>아까 설치한 MacTex 를 깔고, 패스를 설정하면서 xelatex 을 사용할 수 있게되었다.</li>\n</ul>\n<h3>주의점</h3>\n<ul>\n<li>jupyter notebook의 설정을 변경시에는 항상 jupyter notebook 을 재시작 해주어야한다.</li>\n<li>이미지의 경우 보통 상대경로로 지정헤줄때 <code class=\"language-text\">![이미지](./images/1/1.jpg)</code> 이런식으로 사용하곤 하는데, 이러면 이미지가 나오지 않게 된다. <code class=\"language-text\">./</code> 를 없앤상태로 <code class=\"language-text\">![이미지](images/1/1.jpg)</code> 와 같은 형태로 사용해야 이미지가 잘 나오게 된다.</li>\n</ul>\n<p>이렇게까지 했는데도 안된다면, 이제부터는 latex와 cjk 관련으로 검색을 잘 찾아서 해결해보도록 하자.\n이 글을 쓰는 나도, jupyter에서 한글로 뽑아지는 pdf를 보기 위해 이렇게나 노력해야된다는 것을 알았다면,\n아마 일찌감치 다른 툴을 찾아봤을 것이다.</p>\n<p>그럼 코로나 조심들 하시고 다음에 봅시다~</p>","excerpt":"<h2>주피터를 저작도구로 사용하기 시작했다</h2>\n<p>최근에 여가시간을 다 보내고도 시간이 남을때 책을 쓰고 있다.</p>\n<p>책을 쓰려면 저작도구가 필요한데, 회사 사람이 책 저작도구로 <code class=\"language-text\">jupyter notebook</code>…</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2020/jupyter-notebook-pdf-problem/#%EC%A3%BC%ED%94%BC%ED%84%B0%EB%A5%BC-%EC%A0%80%EC%9E%91%EB%8F%84%EA%B5%AC%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EC%8B%9C%EC%9E%91%ED%96%88%EB%8B%A4\">주피터를 저작도구로 사용하기 시작했다</a></p>\n<ul>\n<li><a href=\"/2020/jupyter-notebook-pdf-problem/#pandoc-%EA%B3%BC-mactex-%EC%84%A4%EC%B9%98\">pandoc 과 MacTeX 설치</a></li>\n<li><a href=\"/2020/jupyter-notebook-pdf-problem/#mactex-%EC%84%A4%EC%B9%98%ED%9B%84-%ED%8C%A8%EC%8A%A4%EC%9E%A1%EC%95%84%EC%A3%BC%EA%B8%B0\">mactex 설치후 패스잡아주기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/2020/jupyter-notebook-pdf-problem/#jupyter-%EC%84%A4%EC%A0%95\">jupyter 설정</a></p>\n<ul>\n<li><a href=\"/2020/jupyter-notebook-pdf-problem/#hangultplx-%ED%8C%8C%EC%9D%BC\">hangul.tplx 파일</a></li>\n<li><a href=\"/2020/jupyter-notebook-pdf-problem/#jupyternotebookconfigpy-%ED%8C%8C%EC%9D%BC\">jupyter<em>notebook</em>config.py 파일</a></li>\n<li><a href=\"/2020/jupyter-notebook-pdf-problem/#%EC%A3%BC%EC%9D%98%EC%A0%90\">주의점</a></li>\n</ul>\n</li>\n</ul>","timeToRead":3,"frontmatter":{"title":"jupyter notebook 에서 pdf 만들기","tags":["jupyter notebook"],"category":"dev","image":null}}},"pageContext":{"slug":"/2020/jupyter-notebook-pdf-problem/","next":{"fields":{"slug":"/2020/blog-update/"},"frontmatter":{"title":"블로그 개선","tags":["shell","blog"],"category":"dev","image":{"childImageSharp":{"resize":{"src":"/static/ce54f27d69dcd4dbee91f9a1d0f942c7/2244e/featured.jpg","height":267,"width":400}}}}},"prev":{"fields":{"slug":"/2019/react-land/react_mil_2019_10/"},"frontmatter":{"title":"MIL 10월에 공부한 것들","tags":["TIL"],"category":"dev","image":null}}}},"staticQueryHashes":["3159585216","4202924991"]}