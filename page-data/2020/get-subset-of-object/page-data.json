{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/get-subset-of-object/","result":{"data":{"markdownRemark":{"html":"<p>자바스크립트에서 복잡한 객체의 데이터의 일부만 다른 객체로 할당하고 싶다는 요구사항이 있었다.</p>\n<p>예를 들어 아래와 같은 코드가 있다고 치자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> keyboards <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"한성\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"한무무\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"GBK68\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"후지쯔\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"해피해킹2\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"HHKB2\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"토프레\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"레알포스2\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"87USB\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">32</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>해결하고 싶은 문제는 아래와 같다.\n내가 알고 있는 정보는 키보드이름이 <code class=\"language-text\">한무무</code> 인 것과 제품명이 <code class=\"language-text\">GBK68</code> 이라는 것이고,\n해당 제품이 키보드 리스트에 존재하면 새로운 객체의 오브젝트에 컬러(<code class=\"language-text\">color</code>)와 텐키가 있는지여부(<code class=\"language-text\">haveTenkey</code>)를 할당해주는 코드를 만들고 싶다.</p>\n<p>그런데 문제는 알고 싶은 정보의 키는 계속 변경될 수 있다는 것이다.</p>\n<p>내가 알고 있는 정보로 리스트에서 원하는 것을 찾아내는 것은 <code class=\"language-text\">filter</code> 혹은 <code class=\"language-text\">find</code> 함수를 사용해서 간단하게 찾아낼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> foundKeyboard <span class=\"token operator\">=</span> keyboards<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">\"한무무\"</span> <span class=\"token operator\">&amp;&amp;</span> item<span class=\"token punctuation\">.</span>productName <span class=\"token operator\">===</span> <span class=\"token string\">\"GBK68\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>알고싶은 값이 변하지 않는 다면 아래와 같이 그냥 손으로 작성하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> whatIwantKeyboardInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">:</span> foundKeyboard<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>\n  haveTenkey<span class=\"token operator\">:</span> foundKeyboard<span class=\"token punctuation\">.</span>haveTenkey<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>ES5 에서 객체의 일부만 할당하기</h3>\n<p>알고 싶은 정보가 달라질 수 있다에서 좀 피곤해지기 시작했는데, 원래 알고 있는 지식이었다면 아래와 같이 했을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> wantKnowKeys <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"color\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"haveTenkey\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> subset <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>foundKeyboard<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> wantKnowKeys<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> foundKeyboard<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> obj<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>ES6의 destructuring 사용하기</h3>\n<p>조금 더 찾아보니 ES6에서는 <code class=\"language-text\">destructuring</code> 으로 할 수 있는 방법이 있었다.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">destructuring</a> 에 대해서는 링크를 눌러보도록 하자. 아주 간단하게 얘기하면 객체를 풀어서 필요한것만 쉽게 꺼낼 수 있게 해주는 문법이다.\n<code class=\"language-text\">destructuring</code>을 사용한 코드는 아래와 같이 생겼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> color<span class=\"token punctuation\">,</span> haveTenkey <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> color<span class=\"token punctuation\">,</span> haveTenkey <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> subset2 <span class=\"token operator\">=</span> <span class=\"token function\">pick</span><span class=\"token punctuation\">(</span>foundKeyboard<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">pick</code> 함수는 생략된게 많아서 처음 본 사람은 좀 알아보기 힘들 수 있는데, 풀어서 쓰면 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pick2</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> c <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">,</span> c <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> subset3 <span class=\"token operator\">=</span> <span class=\"token function\">pick2</span><span class=\"token punctuation\">(</span>foundKeyboard<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>lodash 사용하기</h3>\n<p>마지막으로 <code class=\"language-text\">descructing</code> 이런거 귀찮고 그냥 편하게 쓰고 싶은 사람에게는 <a href=\"https://lodash.com/\">lodash</a> 를 추천한다.\nlodash 의 <code class=\"language-text\">pick</code> 함수를 사용하면 아주 간단하게 해결된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> subset4 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">pick</span><span class=\"token punctuation\">(</span>foundKeyboard<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"color\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"haveTenkey\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","excerpt":"<p>자바스크립트에서 복잡한 객체의 데이터의 일부만 다른 객체로 할당하고 싶다는 요구사항이 있었다.</p>\n<p>예를 들어 아래와 같은 코드가 있다고 치자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> keyboards <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"한성\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"한무무\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"GBK68\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"후지쯔\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"해피해킹2\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"HHKB2\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">26</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span>\n    maker<span class=\"token operator\">:</span> <span class=\"token string\">\"토프레\"</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"레알포스2\"</span><span class=\"token punctuation\">,</span>\n    productName<span class=\"token operator\">:</span> <span class=\"token string\">\"87USB\"</span><span class=\"token punctuation\">,</span>\n    haveTenkey<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">32</span><span class=\"token punctuation\">,</span>\n    height<span class=\"token operator\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>해결하고 싶은 문제는 아래와 같다.\n내가 알고 있는 정보는 키보드이름이 <code class=\"language-text\">한무무</code> 인 것과 제품명이 <code class=\"language-text\">GBK68</code> 이라는 것이고,\n해당 제품이 키보드 리스트에 존재하면 새로운 객체의 오브젝트에 컬러(<code class=\"language-text\">color</code>…</p>","tableOfContents":"<ul>\n<li><a href=\"/2020/get-subset-of-object/#es5-%EC%97%90%EC%84%9C-%EA%B0%9D%EC%B2%B4%EC%9D%98-%EC%9D%BC%EB%B6%80%EB%A7%8C-%ED%95%A0%EB%8B%B9%ED%95%98%EA%B8%B0\">ES5 에서 객체의 일부만 할당하기</a></li>\n<li><a href=\"/2020/get-subset-of-object/#es6%EC%9D%98-destructuring-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">ES6의 destructuring 사용하기</a></li>\n<li><a href=\"/2020/get-subset-of-object/#lodash-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">lodash 사용하기</a></li>\n</ul>","timeToRead":2,"frontmatter":{"title":"[TIL] 자바스크립트의 객체에서 일부만 떼서 다른 객체에 할당하기","tags":["TIL","javascript","destructuring"],"category":"dev","image":{"childImageSharp":{"resize":{"src":"/static/1b7625cb13c462c4a95316fbb27ed56d/497c6/featured.png","height":200,"width":400}}}}}},"pageContext":{"slug":"/2020/get-subset-of-object/","next":{"fields":{"slug":"/2020/why-string-named-string/"},"frontmatter":{"title":"개발 잡담 - 문자열은 왜 스트링이라고 부를까?","tags":["python","gossip"],"category":"dev","image":null}},"prev":{"fields":{"slug":"/2020/practical-react-book/"},"frontmatter":{"title":"실전 리액트 프로그래밍","tags":["react","javascript"],"category":"dev","image":{"childImageSharp":{"resize":{"src":"/static/163a6b15f1676475b5110996a911a9d7/2244e/1.jpg","height":525,"width":400}}}}}}},"staticQueryHashes":["3159585216","4202924991"]}